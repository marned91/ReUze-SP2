import{a as b}from"./authGuard-DtuNu_Wm.js";import{c as h}from"./listings-CXZKXcj-.js";import{h as c}from"./notFound-D8trMym1.js";import"./doFetch-B21xXzj5.js";const f={Art:/\b(painting|sculpture|poster|statue|picture|art|wallpaper|mural|drawing|illustration|sketch|portrait|abstract|contemporary|gallery|artist)\b/i,Fashion:/\b(fashion|clothes|clothing|shoes|jacket|hat|cap|pants|blouse|shirt|parka|glasses|sunglasses|sweater|coat(s)?|sneakers|scarf|scarves|shorts|purse|bag|dress|skirt|blazer|leggings|boots|jewelry|watch)\b/i,Interior:/\b(interior|sofa(s)?|chair(s)?|table(s)?|lounge(s)?|carpet(s)?|shelf|shelves|lamp(s)?|curtain(s)?|rug(s)?|cushion(s)?|armchair|bookshelf|cabinet|mug(s)?)\b/i,Decor:/\b(decor|vase(s)?|dish(es)?|tablecloth(S)?|glass|pot(s)?|candlestick(s)?|coaster(s)?|clock(s)?|cushion(s)?|candle(s)?|mirror(s)?|plant(s)?|stool(s)?|ceramic(s)?|globe(s)?|wallpaper|wall\s?art|baskets|tapestry)\b/i,Sport:/\b(sport(s)?|ski|skiing|skiis|snowboard(s)?|sneakers|canoe|canoes|paddle(s)?|hiking|weights|treadmill(s)?|boxing|gym|fitness|exercise|workout|yoga|running|swimming|cycling|paddleboard|surf(ing)?|skate-board(s)?|helmet(s)?)\b/i,vintage:/\b(vintage|retro|old|antique|classic|nostalgia|mid-century|heritage|throwback)\b/i,other:/\b(car|headset|electronics|tablet|phone|camera|digital-camera|computer|game(s)?|toy(s)?|speaker(s)?|stereo|electric-bicycle|electric-scooter|scooter|costume(s)?|ipad|airpods|phone-case|Mac|android|apple|windows|guitar|electric|instrument|keyboard|piano)\b/i};function l(t,s){const a=[];for(const[r,i]of Object.entries(f))(i.test(t)||i.test(s))&&a.push(r.toLowerCase());return a}b();const e=document.querySelector("#create-listing-form");e.addEventListener("submit",async t=>{t.preventDefault();const s=e.title.value.trim(),a=e.description.value.trim(),r=e.mediaUrl.value.trim(),i=new Date(e.deadline.value).toISOString(),u=l?l(s,a):[],g={title:s,description:a,tags:u,media:r?[{url:r,alt:s}]:[],endsAt:i},n=e.querySelector("fieldset"),o=e.querySelector("button"),p=o.textContent;n.disabled=!0,o.textContent="Creating Listing...";try{await h(g)&&(c("Listing created successfully!","success"),setTimeout(()=>window.location.pathname=/profile/,2e3))}catch{c("Failed to create listing. Please try again.","error")}finally{n.disabled=!1,o.textContent=p}});const d=document.getElementById("description"),y=document.getElementById("char-count");d.addEventListener("input",()=>{const t=d.value.length;y.textContent=`${t} / 280`});
