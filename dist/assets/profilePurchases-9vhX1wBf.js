import{a as u}from"./authGuard-CT34mWX3.js";import{a as g}from"./profile-DkzVi4Ze.js";import{s as f,h as w}from"./skeletonLoader-U1K08Fq0.js";import"./notFound-BStTxSyK.js";import"./doFetch-B21xXzj5.js";u();async function C(){const r=JSON.parse(localStorage.getItem("user"))?.name,o=document.getElementById("profile-wins");o.innerHTML="",f();try{await new Promise(n=>setTimeout(n,3e3));const a=await g(r);if(a.length===0){const n=document.createElement("div"),e=document.createElement("p");e.textContent="No wins yet! Browse listings and start bidding on items: ",e.classList.add("font-small","mb-6"),n.appendChild(e);const t=document.createElement("a");t.href="/",t.classList.add("bg-accent-dark","font-mediumFont","text-white","rounded-3xl","py-3","px-5","w-fit","transition","duration-300","ease-out","hover:scale-105","block"),t.textContent="Browse Categories",n.appendChild(t),o.appendChild(n);return}a.forEach(n=>{const e=document.createElement("div");e.classList.add("bg-white","rounded-lg","shadow-xl","overflow-hidden","p-4","bg-white","flex","flex-col","justify-between","border","mt-5");const t=n,c=t?.media?.length>0?t.media[0].url:"/assets/default-listing-image.png",i=document.createElement("img");i.src=c,i.alt=t?.media[0]?.alt||t?.title||"Listing Image",i.classList.add("w-full","h-48","object-cover"),e.appendChild(i);const s=document.createElement("h3");s.textContent=t?.title||"No listing title",s.classList.add("font-bold","text-xl","mt-4"),e.appendChild(s);const d=document.createElement("p"),m=new Date(t.created);d.textContent=`Won on: ${m.toLocaleString()}`,d.classList.add("text-sm","mt-2","italic","text-gray-600"),e.appendChild(d);const p=Array.isArray(t.bids)&&t.bids.length?Math.max(...t.bids.map(h=>h.amount)):0,l=document.createElement("p");l.textContent=`Bought for: $${p}`,l.classList.add("font-semibold","mt-2"),e.appendChild(l),o.appendChild(e)})}catch{}finally{w()}}C();
