const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./home-CssedVHY.js","./authGuard-ZG3DULH1.js","./goToTag-BDAsXgnR.js","./searchListings-7oRbkNN2.js","./publicHome-B9jmJi5u.js","./publicCategories-CVvhUIOj.js","./login-dE_TYSvk.js","./auth-Bnfqz97i.js","./doFetch-DiDBEFLs.js","./register-D9TSKakK.js","./profile-a9_zujX8.js","./profile-DJ92duJc.js","./listings-BYAVRzMP.js","./skeletonLoader-U1K08Fq0.js","./profileUpdate-Do21EuwS.js","./profilePurchases-BmCDuDvE.js","./listingCreate-DWychoA2.js","./listingView-D_M-hdKo.js","./listingsSearchResult-CQhRSLdb.js","./listingsPerCategory-CNXEh2ux.js"])))=>i.map(i=>d[i]);
(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();function E(){const o=document.getElementById("profile-mobile"),n=document.getElementById("profile"),i=document.getElementById("signup"),l=document.getElementById("signup-mobile"),e=document.getElementById("home"),t=document.getElementById("public-home"),r=document.getElementById("logout"),s=document.getElementById("login"),u=document.getElementById("public-categories");localStorage.getItem("token")?(i.classList.add("hidden"),l.classList.add("hidden"),s.classList.add("hidden"),t.classList.add("hidden"),u.classList.add("hidden"),e.classList.remove("hidden"),n.classList.remove("hidden"),o.classList.remove("hidden"),r.classList.remove("hidden")):(i.classList.remove("hidden"),l.classList.remove("hidden"),s.classList.remove("hidden"),t.classList.remove("hidden"),u.classList.remove("hidden"),e.classList.add("hidden"),n.classList.add("hidden"),o.classList.add("hidden"),r.classList.add("hidden"))}function _(){const o=document.getElementById("menu-toggle"),n=document.getElementById("mobile-menu");!o||!n||(o.addEventListener("click",()=>{n.classList.toggle("hidden")}),document.addEventListener("click",i=>{!n.contains(i.target)&&!o.contains(i.target)&&n.classList.add("hidden")}))}function L(o,n="info",i=null,l=1e3){const e={info:"bg-[#E0EFF5] border-[#CCE1EA] text-black shadow-xl",success:"bg-[#A5D5E7] border-[#B7DBE9] text-accent-dark shadow-xl",error:"bg-[#7A8080] border-[#989F9F] text-white shadow-xl"},t=document.createElement("div");t.className=`w-full max-w-md mx-auto p-4 border rounded-lg shadow-md ${e[n]}`,t.textContent=o,document.getElementById("alert-container").appendChild(t),setTimeout(()=>{t.remove(),i&&i()},l)}async function w(){localStorage.removeItem("token"),localStorage.removeItem("user"),L("You have been logged out","info"),setTimeout(()=>window.location.href="/auth/login/",2e3)}function b(){const o=document.querySelector("#logout");o.classList.add("cursor-pointer"),o&&o.addEventListener("click",n=>{n.preventDefault(),n.stopImmediatePropagation(),w()},{once:!0})}const v="modulepreload",y=function(o,n){return new URL(o,n).href},h={},a=function(n,i,l){let e=Promise.resolve();if(i&&i.length>0){const r=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),u=s?.nonce||s?.getAttribute("nonce");e=Promise.allSettled(i.map(c=>{if(c=y(c,l),c in h)return;h[c]=!0;const m=c.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(!!l)for(let g=r.length-1;g>=0;g--){const f=r[g];if(f.href===c&&(!m||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${p}`))return;const d=document.createElement("link");if(d.rel=m?"stylesheet":v,m||(d.as="script"),d.crossOrigin="",d.href=c,u&&d.setAttribute("nonce",u),document.head.appendChild(d),m)return new Promise((g,f)=>{d.addEventListener("load",g),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function t(r){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=r,window.dispatchEvent(s),!s.defaultPrevented)throw r}return e.then(r=>{for(const s of r||[])s.status==="rejected"&&t(s.reason);return n().catch(t)})};async function I(o=window.location.pathname){console.log("Router is running, pathname:",window.location.pathname);const i=new URLSearchParams(window.location.search).get("tag");switch(o==="/index.html"?"/":o){case"/":case"":await a(()=>import("./home-CssedVHY.js"),__vite__mapDeps([0,1,2,3]),import.meta.url);break;case"/public/":await a(()=>import("./publicHome-B9jmJi5u.js"),__vite__mapDeps([4,3]),import.meta.url);break;case"/public/categories/index.html":case"/public/categories/":await a(()=>import("./publicCategories-CVvhUIOj.js"),__vite__mapDeps([5,2,3]),import.meta.url);break;case"/auth/login/index.html":case"/auth/login/":console.log("Loading login.mjs"),await a(()=>import("./login-dE_TYSvk.js"),__vite__mapDeps([6,7,8]),import.meta.url);break;case"/auth/register/index.html":case"/auth/register/":await a(()=>import("./register-D9TSKakK.js"),__vite__mapDeps([9,7,8]),import.meta.url);break;case"/profile/":await a(()=>import("./profile-a9_zujX8.js"),__vite__mapDeps([10,1,11,8,12,13]),import.meta.url);break;case"/profile/update/":await a(()=>import("./profileUpdate-Do21EuwS.js"),__vite__mapDeps([14,1,11,8,13]),import.meta.url);break;case"/profile/purchases/":await a(()=>import("./profilePurchases-BmCDuDvE.js"),__vite__mapDeps([15,1,11,8,13]),import.meta.url);break;case"/listings/create/":await a(()=>import("./listingCreate-DWychoA2.js"),__vite__mapDeps([16,1,12,8]),import.meta.url);break;case"/listings/view/index.html":case"/listings/view/":await a(()=>import("./listingView-D_M-hdKo.js"),__vite__mapDeps([17,12,8,11,13]),import.meta.url);break;case"/listings/search/index.html":case"/listings/search/":await a(()=>import("./listingsSearchResult-CQhRSLdb.js"),__vite__mapDeps([18,12,8,3,13]),import.meta.url);break;case"/listings/index.html":case"/listings/":i&&["sport","fashion","interior","art","decor","vintage","other"].includes(i.toLowerCase())&&await a(()=>import("./listingsPerCategory-CNXEh2ux.js"),__vite__mapDeps([19,12,8,13]),import.meta.url);break}}await I(window.location.pathname);console.log("main.mjs is loading - hello");E();_();b();export{L as h};
//# sourceMappingURL=main-DGQGQn9f.js.map
