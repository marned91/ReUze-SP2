import{a as L}from"./listings-CovSnx_b.js";import{s as E}from"./searchListings-7oRbkNN2.js";import{s as b,h as y}from"./skeletonLoader-U1K08Fq0.js";import"./doFetch-DiDBEFLs.js";import"./main-BcUkKGQ8.js";E("#search-input","#search-button");async function w(){const d=new URLSearchParams(window.location.search).get("q");if(b(),d){const n=document.getElementById("search-query"),s=document.createElement("h1");s.textContent=`Search results for: ${d}`,s.classList.add("font-largeFont","text-4xl"),n.appendChild(s)}else return;const e=await L(d),t=document.getElementById("search-results");for(;t.firstChild;)t.removeChild(t.firstChild);if(e.length===0){const n=document.createElement("p");n.textContent="No listings found for your search.",t.appendChild(n)}else D(e),y()}async function D(x){const d=document.getElementById("search-results");x.forEach(e=>{const t=document.createElement("a");t.href=`/listings/view/index.html?id=${e.id}`,t.classList.add("listing-item","border","p-4","shadow-2xl","bg-white","flex","flex-col","justify-between","min-h-[300px]","cursor-pointer","transition","duration-300","ease-out","hover:scale-105","rounded-lg");const n=document.createElement("img");n.src=e.media&&e.media[0]?e.media[0].url:"/assets/default-listing-image.png",n.alt=e.title,n.classList.add("w-full","h-48","object-cover","rounded-t-lg");const s=document.createElement("h3");s.textContent=e.title,s.classList.add("text-lg","font-semibold","mt-2");const f=document.createElement("p"),i=document.createElement("span");i.textContent=e.description.slice(0,100)+"..."||"No description added.",i.classList.add("italic","text-sm","text-gray-600","mt-1"),f.append(i);const r=document.createElement("p"),m=document.createElement("span");m.textContent="Deadline: ",m.classList.add("font-bold");const p=document.createElement("span");p.textContent=new Date(e.endsAt).toLocaleDateString(),p.classList.add("font-normal"),r.classList.add("text-sm","text-gray-600","mt-1"),r.append(m,p);const c=document.createElement("p"),o=document.createElement("span");if(o.textContent="Current Bid: ",o.classList.add("font-bold"),e._count?.bids>0){const a=document.createElement("span");a.textContent=`$${e.bids[e.bids.length-1].amount}`,a.classList.add("font-normal"),c.classList.add("text-sm","text-gray-600","mt-1"),c.append(o,a)}else{const a=document.createElement("span");a.textContent="No bids yet",a.classList.add("font-normal"),c.classList.add("text-sm","text-gray-600","mt-1"),c.append(o,a)}const l=document.createElement("div");l.classList.add("flex","flex-wrap","gap-1","mt-5","space-x-2"),e.tags&&e.tags.length>0&&e.tags.forEach(a=>{const h=document.createElement("span");h.textContent=a,h.classList.add("rounded-full","bg-brand-dark","text-white","text-xs","px-3","py-1.5"),l.appendChild(h)});const C=new Date,g=new Date(e.endsAt)>C?"active":"expired",u=document.createElement("span");u.textContent=g,u.classList.add("rounded-full","text-white","text-xs","px-3","py-1.5",g==="active"?"bg-accent-dark":"bg-accent-light"),l.appendChild(u),t.appendChild(n),t.appendChild(s),t.appendChild(f),t.appendChild(r),t.appendChild(c),t.appendChild(l),d.appendChild(t)})}w();
//# sourceMappingURL=listingsSearchResult-2QydQtZK.js.map
