import{h as r}from"./main-DZK55k0Z.js";import{l as m}from"./auth-BdQhDbLx.js";import"./doFetch-CLPvv1XM.js";console.log("login.mjs is executing");async function d(s){s.preventDefault();const t=s.target,n=t.querySelector("fieldset"),o=t.querySelector("button"),i=o.textContent,a=new FormData(t),l=a.get("email"),c=a.get("password");n.disabled=!0,o.textContent="Logging In...";try{const e=await m({email:l,password:c});if(!e||e.errors&&e.errors.length>0){const g=e?.errors?.[0]?.message||"Invalid email or password. Please try again";r(g,"error");return}r("Login successful!","success"),t.reset(),setTimeout(()=>window.location.href="/",2e3)}catch(e){r(`Login failed: ${e.message}`,"error")}finally{n.disabled=!1,o.textContent=i}}const f=document.forms.login;f.addEventListener("submit",d);
//# sourceMappingURL=login-D9-IPQyk.js.map
