const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./home-DBu9o7OV.js","./authGuard-Bkjr04F7.js","./goToTag-BDAsXgnR.js","./searchListings-7oRbkNN2.js","./publicHome-B9jmJi5u.js","./publicCategories-CVvhUIOj.js","./login-D7t35Pz9.js","./auth-Bnfqz97i.js","./doFetch-DiDBEFLs.js","./register-CT-Vwmo_.js","./profile-BJJ9iqOz.js","./profile-DJ92duJc.js","./listings-CovSnx_b.js","./skeletonLoader-U1K08Fq0.js","./profileUpdate-DHAi7xIs.js","./profilePurchases-Cc04WfU0.js","./listingCreate-DHT0wc03.js","./listingView-BsiQU38a.js","./listingsSearchResult-2QydQtZK.js","./listingsPerCategory-DBYI7qWQ.js"])))=>i.map(i=>d[i]);
(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(e){if(e.ep)return;e.ep=!0;const t=n(e);fetch(e.href,t)}})();function E(){const i=document.getElementById("profile-mobile"),o=document.getElementById("profile"),n=document.getElementById("signup"),l=document.getElementById("signup-mobile"),e=document.getElementById("home"),t=document.getElementById("public-home"),r=document.getElementById("logout"),s=document.getElementById("login"),m=document.getElementById("public-categories");localStorage.getItem("token")?(n.classList.add("hidden"),l.classList.add("hidden"),s.classList.add("hidden"),t.classList.add("hidden"),m.classList.add("hidden"),e.classList.remove("hidden"),o.classList.remove("hidden"),i.classList.remove("hidden"),r.classList.remove("hidden")):(n.classList.remove("hidden"),l.classList.remove("hidden"),s.classList.remove("hidden"),t.classList.remove("hidden"),m.classList.remove("hidden"),e.classList.add("hidden"),o.classList.add("hidden"),i.classList.add("hidden"),r.classList.add("hidden"))}function _(){const i=document.getElementById("menu-toggle"),o=document.getElementById("mobile-menu");!i||!o||(i.addEventListener("click",()=>{o.classList.toggle("hidden")}),document.addEventListener("click",n=>{!o.contains(n.target)&&!i.contains(n.target)&&o.classList.add("hidden")}))}function L(i,o="info",n=null,l=1e3){const e={info:"bg-[#E0EFF5] border-[#CCE1EA] text-black shadow-xl",success:"bg-[#A5D5E7] border-[#B7DBE9] text-accent-dark shadow-xl",error:"bg-[#7A8080] border-[#989F9F] text-white shadow-xl"},t=document.createElement("div");t.className=`w-full max-w-md mx-auto p-4 border rounded-lg shadow-md ${e[o]}`,t.textContent=i,document.getElementById("alert-container").appendChild(t),setTimeout(()=>{t.remove(),n&&n()},l)}async function v(){localStorage.removeItem("token"),localStorage.removeItem("user"),L("You have been logged out","info"),setTimeout(()=>window.location.href="/auth/login/",2e3)}function w(){const i=document.querySelector("#logout");i.classList.add("cursor-pointer"),i&&i.addEventListener("click",o=>{o.preventDefault(),o.stopImmediatePropagation(),v()},{once:!0})}const b="modulepreload",y=function(i,o){return new URL(i,o).href},p={},a=function(o,n,l){let e=Promise.resolve();if(n&&n.length>0){const r=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),m=s?.nonce||s?.getAttribute("nonce");e=Promise.allSettled(n.map(c=>{if(c=y(c,l),c in p)return;p[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!l)for(let g=r.length-1;g>=0;g--){const h=r[g];if(h.href===c&&(!u||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":b,u||(d.as="script"),d.crossOrigin="",d.href=c,m&&d.setAttribute("nonce",m),document.head.appendChild(d),u)return new Promise((g,h)=>{d.addEventListener("load",g),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function t(r){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=r,window.dispatchEvent(s),!s.defaultPrevented)throw r}return e.then(r=>{for(const s of r||[])s.status==="rejected"&&t(s.reason);return o().catch(t)})};async function I(i=window.location.pathname){console.log("Router is running, pathname:",window.location.pathname);const n=new URLSearchParams(window.location.search).get("tag");switch(i==="/index.html"?"/":i){case"/":case"":await a(()=>import("./home-DBu9o7OV.js"),__vite__mapDeps([0,1,2,3]),import.meta.url);break;case"/public/":await a(()=>import("./publicHome-B9jmJi5u.js"),__vite__mapDeps([4,3]),import.meta.url);break;case"/public/categories/index.html":case"/public/categories/":await a(()=>import("./publicCategories-CVvhUIOj.js"),__vite__mapDeps([5,2,3]),import.meta.url);break;case"/auth/login/index.html":case"/auth/login/":console.log("Loading login.mjs"),await a(()=>import("./login-D7t35Pz9.js"),__vite__mapDeps([6,7,8]),import.meta.url);break;case"/auth/register/index.html":case"/auth/register/":await a(()=>import("./register-CT-Vwmo_.js"),__vite__mapDeps([9,7,8]),import.meta.url);break;case"/profile/":await a(()=>import("./profile-BJJ9iqOz.js"),__vite__mapDeps([10,1,11,8,12,13]),import.meta.url);break;case"/profile/update/":await a(()=>import("./profileUpdate-DHAi7xIs.js"),__vite__mapDeps([14,1,11,8,13]),import.meta.url);break;case"/profile/purchases/":await a(()=>import("./profilePurchases-Cc04WfU0.js"),__vite__mapDeps([15,1,11,8,13]),import.meta.url);break;case"/listings/create/":await a(()=>import("./listingCreate-DHT0wc03.js"),__vite__mapDeps([16,1,12,8]),import.meta.url);break;case"/listings/view/index.html":case"/listings/view/":await a(()=>import("./listingView-BsiQU38a.js"),__vite__mapDeps([17,12,8,11,13]),import.meta.url);break;case"/listings/search/index.html":case"/listings/search/":await a(()=>import("./listingsSearchResult-2QydQtZK.js"),__vite__mapDeps([18,12,8,3,13]),import.meta.url);break;case"/listings/index.html":case"/listings/":n&&["sport","fashion","interior","art","decor","vintage","other"].includes(n.toLowerCase())&&await a(()=>import("./listingsPerCategory-DBYI7qWQ.js"),__vite__mapDeps([19,12,8,13]),import.meta.url);break}}console.log("main.mjs is loading - hello");E();_();w();await I(window.location.pathname);export{L as h};
//# sourceMappingURL=main-BcUkKGQ8.js.map
