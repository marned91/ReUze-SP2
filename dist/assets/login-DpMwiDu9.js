import{h as r}from"./notFound-CwYwOhhX.js";import{l as d}from"./auth-DgQ1xGuD.js";import"./doFetch-B21xXzj5.js";async function g(s){s.preventDefault();const e=s.target,n=e.querySelector("fieldset"),o=e.querySelector("button"),i=o.textContent,a=new FormData(e),l=a.get("email"),c=a.get("password");n.disabled=!0,o.textContent="Logging In...";try{const t=await d({email:l,password:c});if(!t||t.errors&&t.errors.length>0){const m=t?.errors?.[0]?.message||"Invalid email or password. Please try again";r(m,"error");return}r("Login successful!","success"),e.reset(),setTimeout(()=>window.location.pathname="/",2e3)}catch(t){r(`Login failed: ${t.message}`,"error")}finally{n.disabled=!1,o.textContent=i}}const f=document.forms.login;f.addEventListener("submit",g);
